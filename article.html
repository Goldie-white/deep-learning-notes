<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Article | Mickey's Research Blog</title>
    
    <!-- Google Fonts for academic style -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            }
        };
    </script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo"><a href="index.html" style="text-decoration: none; color: inherit;">Mickey's Research Blog</a></h1>
                <p class="tagline">Model Architecture & Paper Reading</p>
            </div>
            <nav class="nav">
                <a href="index.html#home" class="nav-link">Home</a>
                <a href="index.html#articles" class="nav-link">Articles</a>
                <a href="index.html#about" class="nav-link">About</a>
            </nav>
        </div>
    </header>

    <main>
        <article class="article-page">
            <div class="container">
                <div id="articleContent">
                    <!-- Article content will be loaded here -->
                    <p>Loading article...</p>
                </div>
            </div>
        </article>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Mickey's Research Blog. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Load article content based on URL parameter
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const articleId = parseInt(urlParams.get('id'));
            
            if (!articleId) {
                document.getElementById('articleContent').innerHTML = '<p>Article not found. <a href="index.html">Return to home</a></p>';
                return;
            }
            
            const article = articles.find(a => a.id === articleId);
            
            if (!article) {
                document.getElementById('articleContent').innerHTML = '<p>Article not found. <a href="index.html">Return to home</a></p>';
                return;
            }
            
            // Update page title
            document.title = article.title + ' | Mickey\'s Research Blog';
            
            // Render article
            const articleContent = document.getElementById('articleContent');
            articleContent.innerHTML = `
                <div class="article-header">
                    <span class="article-category">${categoryLabels[article.category]}</span>
                    <h1 class="article-title">${article.title}</h1>
                    <div class="article-meta">
                        <span class="article-date">üìÖ ${formatDate(article.date)}</span>
                        <span>‚è±Ô∏è ${article.readTime}</span>
                    </div>
                </div>
                <div class="article-body">${markdownToHtml(article.content)}</div>
                <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                    <a href="index.html" style="color: var(--primary-color); text-decoration: none; font-family: 'Inter', sans-serif;">‚Üê Back to Articles</a>
                </div>
            `;
            
            // Render MathJax after content is loaded
            if (window.MathJax && window.MathJax.typesetPromise) {
                window.MathJax.typesetPromise([articleContent]).then(() => {
                    console.log('MathJax rendering complete');
                }).catch((err) => {
                    console.error('MathJax rendering error:', err);
                });
            }
        });
    </script>
</body>
</html>

